# ============================================
# H2O Allegiant Backend - Optimized Dependencies
# Fecha: 2 Octubre 2025
# Python: >=3.11
# ============================================
# NOTA: Este archivo contiene SOLO las dependencias
# que realmente se usan en el código (29 paquetes).
# Comparado con el original de 80 paquetes, esto
# representa una reducción del 64%.
# ============================================

# ──────────────────────────────────────────
# FastAPI Core
# ──────────────────────────────────────────
fastapi==0.118.0
uvicorn[standard]==0.34.3
pydantic==2.11.9
pydantic-settings==2.9.1
python-dotenv==1.1.0

# ──────────────────────────────────────────
# Authentication & Security
# ⚠️ ACTUALIZADO de 13.0.0 a 14.0.1
# Breaking changes: passlib → pwdlib
# Contraseñas bcrypt migran automáticamente a Argon2
# Incluye: PyJWT, email-validator, python-multipart, pwdlib, bcrypt
# ──────────────────────────────────────────
fastapi-users[sqlalchemy]==14.0.1

# ──────────────────────────────────────────
# AI Agents
# ⚠️ ACTUALIZADO de 1.0.3 a 1.0.13
# 10 releases de mejoras, API estable v1.0+
# ──────────────────────────────────────────
pydantic-ai-slim[openai]==1.0.13
openai>=1.75.0

# ──────────────────────────────────────────
# Database
# ⚠️ SQLAlchemy actualizado de 2.0.41 a 2.0.43
# ──────────────────────────────────────────
sqlalchemy==2.0.43
alembic==1.16.2
psycopg2-binary==2.9.10  # Sync driver (postgresql://)
asyncpg==0.30.0          # Async driver (postgresql+asyncpg://)

# ──────────────────────────────────────────
# Redis Cache
# ⚠️ CRÍTICO: aioredis==2.0.1 ELIMINADO (deprecado, falla en Python 3.11+)
# redis 6.4.0 incluye redis.asyncio como reemplazo
# Usar: from redis import asyncio as aioredis
# ──────────────────────────────────────────
redis==6.4.0

# ──────────────────────────────────────────
# HTTP Client
# Incluido automáticamente por FastAPI, listado para control de versión
# ──────────────────────────────────────────
httpx==0.28.1

# ──────────────────────────────────────────
# AWS Storage
# aioboto3 incluye automáticamente: aiobotocore, boto3, botocore
# ──────────────────────────────────────────
aioboto3>=13.2.0
aiofiles==24.1.0

# ──────────────────────────────────────────
# Document Processing
# docling incluye automáticamente: docling-core, docling-parse
# ──────────────────────────────────────────
docling==2.37.0
markdown==3.8.2

# ──────────────────────────────────────────
# PDF Generation
# weasyprint incluye automáticamente: tinycss2, cssselect2, cffi, pydyf, Brotli
# ──────────────────────────────────────────
weasyprint==65.1
jinja2==3.1.6

# ──────────────────────────────────────────
# Visualizations
# matplotlib incluye: pillow
# plotly incluye: kaleido (para exportar imágenes estáticas)
# ──────────────────────────────────────────
matplotlib==3.10.3
numpy==2.3.0
plotly==5.17.0

# ──────────────────────────────────────────
# Utilities
# ──────────────────────────────────────────
PyYAML==6.0.2

# ──────────────────────────────────────────
# Production Server
# ──────────────────────────────────────────
gunicorn==22.0.0

# ============================================
# DEPENDENCIAS ELIMINADAS (NO USADAS)
# ============================================
# Las siguientes dependencias estaban en el
# requirements.txt original pero NO se importan
# en ningún archivo .py del proyecto:
#
# AI Frameworks (usando pydantic-ai):
#   - langgraph==0.2.39
#   - langchain-core==0.3.65
#   - langsmith==0.3.45
#
# HTTP Clients (usando httpx):
#   - httpcore==1.0.9
#   - aiohttp==3.12.13
#   - requests==2.32.4
#
# Document Processing (usando docling):
#   - PyPDF2==3.0.1
#   - python-docx==1.2.0
#   - openpyxl==3.1.5
#   - xhtml2pdf==0.2.17
#
# Visualization:
#   - pydot==2.0.0
#   - kaleido==0.2.1 (transitivo de plotly)
#   - pillow==11.2.1 (transitivo de matplotlib)
#
# Utilities:
#   - rich==14.0.0
#   - typer==0.16.0
#   - tenacity==9.1.2
#   - click==8.2.1
#
# Database:
#   - pgvector==0.4.1 (no implementado aún)
#
# Redis:
#   - aioredis==2.0.1 (DEPRECADO - reemplazado por redis.asyncio)
#
# AWS (transitivos de aioboto3):
#   - aiobotocore>=2.20.0
#   - boto3>=1.35.0
#   - botocore>=1.35.0
#
# WeasyPrint (transitivos):
#   - tinycss2==1.4.0
#   - cssselect2==0.8.0
#   - pydyf==0.11.0
#   - cffi==1.17.1
#   - Brotli==1.1.0
# ============================================
